<!DOCTYPE html>
<html>
<head>
	<title>TW任务清单</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<load href="__PUBLIC__/css/bootstrap.min.css"/>
	<load href="__PUBLIC__/css/bootstrap-responsive.min.css"/>
	<load href="__PUBLIC__/css/task-style.css"/>
	<load href="__PUBLIC__/css/font-awesome.css"/>
	<load href="__PUBLIC__/js/plug-in/json2.js"/>
	<load href="__PUBLIC__/js/plug-in/jquery-1.8.2.min.js"/>
	<load href="__PUBLIC__/js/plug-in/jquery.easing.1.3.js"/>
	<load href="__PUBLIC__/js/plug-in/underscore.js"/>
	<load href="__PUBLIC__/js/plug-in/backbone.js"/>
	<load href="__PUBLIC__/js/plug-in/bootstrap.min.js"/>
	<load href="__PUBLIC__/js/plug-in/Chart.min.js"/>
	<load href="__PUBLIC__/js/common.js"/>
	<load href="__PUBLIC__/js/tasks.js"/>
</head>
<body class="task">
	<div id="content">
		<div id="sidebar">
			<div class="sidebar-inner">
				<header class="container-fluid">
					<a class="brand" id="logo" href="#">TW任务清单</a>
					<p><small>这是个提高你工作效率的工具</small></p>
				</header>
				<ul id="navi">
					<li class="active"><a href="#"><i class="icon-list icon-white"></i> 任务</a></li>
					<li><a href="#"><i class="icon-signal icon-white"></i> 统计</a></li>
					<li><a href="#"><i class="icon-info-sign icon-white"></i> 关于</a></li>
				</ul>
			</div>
		</div>
		<div id="mainbar" class="main">
			<div class="container-fluid">
				<div class="row-fluid">
					<div class="span8">
						<div class="widget">
							<div class="widget-head">
								<i class="icon-list-alt"></i> 任务列表
								<span class="pull-right bar">
									<a href="#" class="minimize"><i class="icon-chevron-up"></i></a>
								</span>
							</div>
							<div class="box task widget-content">
								<form action="#" class="task-input">
									<input type="text" class="span12" placeholder="在这输入你的工作内容">
								</form>
								<ul class="tasks">
									<li class="editing">
										<div class="view">
											<label class="checkbox inline"><input type="checkbox"></label>
											<span class="title">测试内容</span>
											<small class="tags">@test</small>
											<span class="pull-right">
												<i class="icon-time"></i><span class="time">x1</span>
												<a class="remove" href="#"><i class="icon-remove"></i></a>
											</span>
										</div>
										<input type="text" class="editor span12">
									</li>
									<li>
										<div class="view">
											<label class="checkbox inline"><input type="checkbox"></label>
											<span class="title">测试内容</span>
											<small class="tags">@test</small>
											<span class="pull-right">
												<i class="icon-time"></i><span class="time">x1</span>
												<a class="remove" href="#"><i class="icon-remove"></i></a>
											</span>
										</div>
										<input type="text" class="editor">
									</li>
									<li>
										<div class="view">
											<label class="checkbox inline"><input type="checkbox"></label>
											<span class="title">测试内容</span>
											<small class="tags">@test</small>
											<span class="pull-right">
												<i class="icon-time"></i><span class="time">x1</span>
												<a class="remove" href="#"><i class="icon-remove"></i></a>
											</span>
										</div>
										<input type="text" class="editor">
									</li>
									<li class="disable">
										<div class="view">
											<label class="checkbox inline"><input type="checkbox"></label>
											<span class="title">测试内容</span>
											<small class="tags">@test</small>
											<span class="pull-right">
												<i class="icon-time"></i><span class="time">x1</span>
												<a class="remove" href="#"><i class="icon-remove"></i></a>
											</span>
										</div>
										<input type="text" class="editor">
									</li>
								</ul>
							</div>
						</div>
					</div>
					<div class="span4">
						<div class="widget">
							<div class="widget-head">
								<i class="icon-signal"></i> 初步统计
								<span class="pull-right bar">
									<a href="#" class="minimize"><i class="icon-chevron-up"></i></a>
								</span>
							</div>
							<div class="tags-statistics widget-content">
								<div class="box gray b-none">
									<div class="tag-chart">
										<canvas id="tag-chart" width="70" height="70"></canvas>
									</div>
									<div class="tag-content">
										<p class="tag-name">前端设计</p>
										<p class="tag-statistic">最长 <i class="icon-time"></i><span class="long-time">x8</span> <span class="f-orange">平均</span> <i class="icon-time"></i><span class="avg-time">x3</span></p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<footer>
					<p>&copy 2013 <a href="#">Think-Work</a> All Rights Reserved.</p>
				</footer>
			</div>
		</div>
	</div>

	<script type="text/template" id="task-item">
		<div class="view">
			<label class="checkbox inline"><input type="checkbox" <%= complete ? 'checked="checked"' : '' %>></label>
			<span class="title"><%- name %></span>
			<small class="tags"><%- tags_name %></small>
			<span class="pull-right">
				<i class="icon-time"></i><span class="time">x<%- time %></span>
				<a class="remove" href="#"><i class="icon-remove"></i></a>
			</span>
		</div>
		<input type="text" class="editor span12" value="<%- name %>">
	</script>

	<script id="tags-statistic-item" type="text/template">
		<div class="tag-chart">
			<canvas id="tag-chart" width="70" height="70" data-avg="<%- avg_time %>" data-longest="<%- longest_time %>"></canvas>
		</div>
		<div class="tag-content">
			<p class="tag-name"><%- name %></p>
			<p class="tag-statistic">最长 <i class="icon-time"></i><span class="long-time">x<%- longest_time %></span> <span class="f-orange">平均</span> <i class="icon-time"></i><span class="avg-time">x<%- avg_time %></span></p>
		</div>
	</script>

	<script type="text/javascript">
		jQuery(document).ready(function($) {
			var ctx = $('#tag-chart').get(0).getContext("2d");
			var tags_chart = new Chart(ctx).Doughnut([{
				value:35,
				color:"#f25204"
			},{
				value:65,
				color:"#e5e5e5"
			}],{
				segmentShowStroke:false
			});

			$(".widget .bar>.minimize").click(function(){
				var parent = $(this).parents('.widget');
				parent.find('.widget-content').slideToggle('normal','easeOutQuad');
				parent.find('.minimize>i').toggleClass('icon-chevron-up').toggleClass('icon-chevron-down');
			});
		});
	</script>
</body>
</html>